---
import { Image } from "astro:assets";
import type { Project } from "../api/schema/projects";
import { formatNumber } from "../api/fmt";

export interface Props {
    data: Project;
}

const { data } = Astro.props;
const downloads = formatNumber(data.downloads);
---

<a class="flex flex-row bg-dark-2 rd-lg p-2 item" href={`/projects/${data.id}`}>
    <img src={data.avatarUrl} alt={data.name} class="w-20% rd-lg mr-5" />

    <div class="flex flex-col">
        <p class="text-lg">{data.name}</p>
        <p class="text-lg color-gray-4">{downloads} Downloads</p>
        <p class="text-lg color-gray-3">by {data.author.username}</p>
    </div>
</a>

<style lang="scss">
    img {
        object-fit: cover;
    }

    .item {
        border: 1px solid transparent;
        transition:
            border-color 0.25s ease,
            transform 0.25s ease;

        &:hover {
            transform: scale(1.1);
            border: 1px solid white;
        }
    }
</style>
